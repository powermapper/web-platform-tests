<?xml version="1.0"?>
<doc pmx-line="1" pmx-col="1" pmx-app-build="1756" pmx-doctype="&lt;!DOCTYPE html&gt;" pmx-fullurl="file:///Users/markrogers/web-platform-tests/conformance-checkers/html-svg/struct-dom-20-f-novalid.html" pmx-host-name="" pmx-onsite-links-in="0" pmx-offsite-links-out="0" pmx-onsite-links-out="0" pmx-page-depth="1" pmx-click-depth="0" pmx-mime-type="text/html" pmx-expected-mime-type="text/html" pmx-type="html" pmx-has-cookies="0" pmx-cookie-names="Used in JavaScript" pmx-download-secs="0" pmx-link-type="9" pmx-parsing-aborted="0" pmx-on-start-site="0" pmx-max-page-count="16072" pmx-max-page-weight="0" pmx-min-reading-age="30" pmx-parse-javascript="1" pmx-max-reading-ease="0" pmx-is-offsite="0" pmx-last-modified="Mon, 01 Jan 1601 00:00:00 GMT" pmx-last-modified-timestamp="0" pmx-map-edition="mac.pro.desktop.val" pmx-docversion="HTML 5.0" pmx-charset="iso-8859-1" pmx-http-status="200" pmx-http-status-text="OK" pmx-most_frequent_word1="svg" pmx-most-frequent-word1-count="1" pmx-most-frequent-word1-ratio="20" pmx-most_frequent_word2="source" pmx-most-frequent-word2-count="1" pmx-most-frequent-word2-ratio="20" pmx-most_frequent_word3="revision" pmx-most-frequent-word3-count="1" pmx-most-frequent-word3-ratio="20" pmx-most_frequent_word4="draft" pmx-most-frequent-word4-count="1" pmx-most-frequent-word4-ratio="20" pmx-longest-paragraph="0" pmx-longest-sentence="0" pmx-longest-word="0" pmx-sentence-count="0" pmx-syllable-count="0" pmx-raw-word-count="5" pmx-word-count="0" pmx-proper-noun-count="0" pmx-flesch-reading-ease="100" pmx-gunning-fog="0" pmx-content-length="6641" pmx-uncompressed-length="0" pmx-page-weight="6641" pmx-issue-count="0" pmx-issue-location-count="0" pmx-text-type="4" pmx-endtag-line="0" pmx-endtag-col="0"><html pmx-line="2" pmx-col="1" lang="en" pmx-text-type="0" pmx-endtag-line="131" pmx-endtag-col="1"><head pmx-line="3" pmx-col="1" pmx-text-type="0" pmx-endtag-line="6" pmx-endtag-col="1">
 <title pmx-line="4" pmx-col="2" pmx-text-type="1" pmx-endtag-line="4" pmx-endtag-col="2">struct-dom-20-f-manual.svg</title>
 <meta pmx-line="5" pmx-col="2" charset="utf-8" pmx-text-type="2" pmx-endtag-line="5" pmx-endtag-col="2"/>
</head>
<body pmx-line="7" pmx-col="1" pmx-longest-paragraph="0" pmx-longest-sentence="0" pmx-longest-word="0" pmx-text-type="1" pmx-endtag-line="131" pmx-endtag-col="1">
 <h1 pmx-line="8" pmx-col="2" pmx-longest-paragraph="0" pmx-longest-sentence="0" pmx-longest-word="0" pmx-text-type="1" pmx-endtag-line="8" pmx-endtag-col="44">Source SVG: struct-dom-20-f-manual.svg</h1>
<svg pmx-line="9" pmx-col="1" id="svg-root" width="100%" height="100%" viewBox="0 0 480 360" pmx-xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" onload="runTest()" pmx-text-type="0" pmx-endtag-line="129" pmx-endtag-col="1">
  <pmx-comment pmx-line="12" pmx-col="78" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">======================================================================</pmx-comment>
  <pmx-comment pmx-line="13" pmx-col="78" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">=  Copyright 2008 World Wide Web Consortium, (Massachusetts          =</pmx-comment>
  <pmx-comment pmx-line="14" pmx-col="78" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">=  Institute of Technology, European Research Consortium for         =</pmx-comment>
  <pmx-comment pmx-line="15" pmx-col="78" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">=  Informatics and Mathematics (ERCIM), Keio University).            =</pmx-comment>
  <pmx-comment pmx-line="16" pmx-col="78" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">=  All Rights Reserved.                                              =</pmx-comment>
  <pmx-comment pmx-line="17" pmx-col="78" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">=  See http://www.w3.org/Consortium/Legal/.                          =</pmx-comment>
  <pmx-comment pmx-line="18" pmx-col="78" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">======================================================================</pmx-comment>
  
  <title pmx-line="20" pmx-col="3" id="test-title" pmx-longest-paragraph="0" pmx-longest-sentence="0" pmx-longest-word="0" pmx-text-type="1" pmx-endtag-line="20" pmx-endtag-col="59">$RCSfile: struct-dom-20-f.svg,v $</title>
  <defs pmx-line="21" pmx-col="3" pmx-text-type="0" pmx-endtag-line="29" pmx-endtag-col="3">
    <font-face pmx-line="22" pmx-col="5" font-family="SVGFreeSansASCII" unicode-range="U+0-7F" pmx-text-type="0" pmx-endtag-line="28" pmx-endtag-col="5">
      <font-face-src pmx-line="25" pmx-col="7" pmx-text-type="0" pmx-endtag-line="27" pmx-endtag-col="7">
        <font-face-uri pmx-line="26" pmx-col="9" href="../resources/SVGFreeSans.svg#ascii" pmx-text-type="0" pmx-endtag-line="26" pmx-endtag-col="9"/>
      </font-face-src>
    </font-face>
  </defs>
  <g pmx-line="30" pmx-col="3" id="test-body-content" font-family="SVGFreeSansASCII,sans-serif" font-size="18" pmx-text-type="0" pmx-endtag-line="117" pmx-endtag-col="3">

    <defs pmx-line="32" pmx-col="5" pmx-text-type="0" pmx-endtag-line="114" pmx-endtag-col="5">
      <g pmx-line="33" pmx-col="7" id="defsg1" onclick="verifyDefs3(evt)" pmx-text-type="0" pmx-endtag-line="36" pmx-endtag-col="7">
        <circle pmx-line="34" pmx-col="9" id="defscircle3" cx="80" cy="180" r="25" fill="red" pmx-text-type="0" pmx-endtag-line="34" pmx-endtag-col="9"/>
        <use pmx-line="35" pmx-col="9" id="defsuse1" href="#defscircle4" transform="translate(-600, 0)" onclick="verifyDefs4(evt)" pmx-text-type="0" pmx-endtag-line="35" pmx-endtag-col="9"/>
      </g>
      <circle pmx-line="37" pmx-col="7" id="defscircle4" cx="1000" cy="180" r="25" fill="red" pmx-text-type="0" pmx-endtag-line="37" pmx-endtag-col="7"/>
      
      <script pmx-line="39" pmx-col="7" pmx-text-type="2" pmx-endtag-line="113" pmx-endtag-col="10"><pmx-script pmx-line="39" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">
<pmx-function pmx-line="40" pmx-col="1" name="verifyDefs3" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><pmx-id pmx-line="40" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">verifyDefs3</pmx-id><pmx-id pmx-line="40" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">e</pmx-id><pmx-param pmx-line="40" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">e</pmx-param>
<pmx-block pmx-line="41" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">
<pmx-statement pmx-line="42" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><pmx-var pmx-line="42" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">var</pmx-var><pmx-id pmx-line="42" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">instance</pmx-id><pmx-id pmx-line="42" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">document</pmx-id>.<pmx-id pmx-line="42" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">getElementById</pmx-id>(<pmx-lit-string pmx-line="42" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">use3</pmx-lit-string>).<pmx-id pmx-line="42" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">instanceRoot</pmx-id></pmx-statement>
<pmx-statement pmx-line="43" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><pmx-var pmx-line="43" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">var</pmx-var><pmx-id pmx-line="43" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">dc3instance</pmx-id><pmx-id pmx-line="43" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">instance</pmx-id>.<pmx-id pmx-line="43" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">firstChild</pmx-id>.<pmx-id pmx-line="43" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">nextSibling</pmx-id></pmx-statement>
<pmx-statement pmx-line="44" pmx-col="1" keyword="if" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><pmx-expr pmx-line="44" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><pmx-id pmx-line="44" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">e</pmx-id>.<pmx-id pmx-line="44" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">target</pmx-id><pmx-op-ne pmx-line="44" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">!=</pmx-op-ne><pmx-id pmx-line="44" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">e</pmx-id>.<pmx-id pmx-line="44" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">currentTarget</pmx-id><pmx-op-and pmx-line="44" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">&amp;&amp;</pmx-op-and><pmx-comment pmx-line="44" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">// Assertion: the target and currentTarget are different since the event bubbled</pmx-comment>
<pmx-id pmx-line="45" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">e</pmx-id>.<pmx-id pmx-line="45" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">target</pmx-id><pmx-op-eqtype pmx-line="45" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">===</pmx-op-eqtype><pmx-id pmx-line="45" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">dc3instance</pmx-id><pmx-op-and pmx-line="45" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">&amp;&amp;</pmx-op-and><pmx-comment pmx-line="45" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">// Assertion: the event was dispatched to the correct EventTarget</pmx-comment>
<pmx-id pmx-line="46" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">e</pmx-id>.<pmx-id pmx-line="46" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">currentTarget</pmx-id><pmx-op-eqtype pmx-line="46" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">===</pmx-op-eqtype><pmx-id pmx-line="46" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">instance</pmx-id></pmx-expr><pmx-statement pmx-line="46" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><pmx-comment pmx-line="46" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">// Assertion: the event bubbled up to the SVGElementInstance corresponding to the element with id="defsg1"</pmx-comment>
<pmx-block pmx-line="47" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">
<pmx-statement pmx-line="48" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><pmx-expr pmx-line="47" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><pmx-id pmx-line="48" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">dc3instance</pmx-id>.<pmx-id pmx-line="48" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">correspondingElement</pmx-id>.<pmx-id pmx-line="48" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">setAttribute</pmx-id>(<pmx-lit-string pmx-line="48" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">fill</pmx-lit-string><pmx-lit-string pmx-line="48" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">lime</pmx-lit-string>)</pmx-expr></pmx-statement>
</pmx-block></pmx-statement>
</pmx-statement></pmx-block></pmx-function>

<pmx-function pmx-line="52" pmx-col="1" name="verifyDefs4" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><pmx-id pmx-line="52" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">verifyDefs4</pmx-id><pmx-id pmx-line="52" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">e</pmx-id><pmx-param pmx-line="52" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">e</pmx-param>
<pmx-block pmx-line="53" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">
<pmx-statement pmx-line="54" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><pmx-var pmx-line="54" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">var</pmx-var><pmx-id pmx-line="54" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">useElement</pmx-id><pmx-id pmx-line="54" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">document</pmx-id>.<pmx-id pmx-line="54" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">getElementById</pmx-id>(<pmx-lit-string pmx-line="54" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">use3</pmx-lit-string>)</pmx-statement>
<pmx-statement pmx-line="55" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><pmx-var pmx-line="55" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">var</pmx-var><pmx-id pmx-line="55" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">nestedUseInstance</pmx-id><pmx-id pmx-line="55" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">useElement</pmx-id>.<pmx-id pmx-line="55" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">instanceRoot</pmx-id>.<pmx-id pmx-line="55" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">childNodes</pmx-id>.<pmx-id pmx-line="55" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">item</pmx-id>(<pmx-lit-int pmx-line="55" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">3</pmx-lit-int>)</pmx-statement>
<pmx-statement pmx-line="56" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><pmx-var pmx-line="56" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">var</pmx-var><pmx-id pmx-line="56" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">instanceNestedCircle</pmx-id><pmx-id pmx-line="56" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">nestedUseInstance</pmx-id>.<pmx-id pmx-line="56" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">childNodes</pmx-id>.<pmx-id pmx-line="56" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">item</pmx-id>(<pmx-lit-int pmx-line="56" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">0</pmx-lit-int>)</pmx-statement>
<pmx-statement pmx-line="57" pmx-col="1" keyword="if" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><pmx-expr pmx-line="57" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><pmx-id pmx-line="57" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">e</pmx-id>.<pmx-id pmx-line="57" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">target</pmx-id><pmx-op-ne pmx-line="57" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">!=</pmx-op-ne><pmx-id pmx-line="57" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">e</pmx-id>.<pmx-id pmx-line="57" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">currentTarget</pmx-id><pmx-op-and pmx-line="57" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">&amp;&amp;</pmx-op-and><pmx-comment pmx-line="57" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">// Assertion: the target and currentTarget are different since the event bubbled</pmx-comment>
<pmx-id pmx-line="58" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">e</pmx-id>.<pmx-id pmx-line="58" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">target</pmx-id><pmx-op-eqtype pmx-line="58" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">===</pmx-op-eqtype><pmx-id pmx-line="58" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">instanceNestedCircle</pmx-id><pmx-op-and pmx-line="58" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">&amp;&amp;</pmx-op-and><pmx-comment pmx-line="58" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">// Assertion: the event was dispatched to the correct EventTarget</pmx-comment>
<pmx-id pmx-line="59" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">e</pmx-id>.<pmx-id pmx-line="59" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">currentTarget</pmx-id><pmx-op-eqtype pmx-line="59" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">===</pmx-op-eqtype><pmx-id pmx-line="59" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">nestedUseInstance</pmx-id><pmx-op-and pmx-line="59" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">&amp;&amp;</pmx-op-and><pmx-comment pmx-line="59" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">// Assertion: the event bubbled up to the SVGElementInstance corresponding to the element with id="defsuse1"</pmx-comment>
<pmx-id pmx-line="60" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">instanceNestedCircle</pmx-id>.<pmx-id pmx-line="60" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">parentNode</pmx-id><pmx-op-eqtype pmx-line="60" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">===</pmx-op-eqtype><pmx-id pmx-line="60" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">nestedUseInstance</pmx-id><pmx-op-and pmx-line="60" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">&amp;&amp;</pmx-op-and><pmx-comment pmx-line="60" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">// Assertion: the parentNode is the SVGElementInstance of the 'use' that referenced the circle</pmx-comment>
<pmx-id pmx-line="61" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">instanceNestedCircle</pmx-id>.<pmx-id pmx-line="61" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">correspondingUseElement</pmx-id><pmx-op-eqtype pmx-line="61" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">===</pmx-op-eqtype><pmx-id pmx-line="61" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">useElement</pmx-id></pmx-expr><pmx-statement pmx-line="61" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><pmx-comment pmx-line="61" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">// Assertion: When 'use' elements are nested then the correspondingUseElement is the outermost 'use'</pmx-comment>
<pmx-block pmx-line="62" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">
<pmx-statement pmx-line="63" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><pmx-expr pmx-line="62" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><pmx-id pmx-line="63" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">document</pmx-id>.<pmx-id pmx-line="63" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">getElementById</pmx-id>(<pmx-lit-string pmx-line="63" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">defscircle4</pmx-lit-string>).<pmx-id pmx-line="63" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">setAttribute</pmx-id>(<pmx-lit-string pmx-line="63" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">fill</pmx-lit-string><pmx-lit-string pmx-line="63" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">lime</pmx-lit-string>)</pmx-expr></pmx-statement>
</pmx-block></pmx-statement>
</pmx-statement></pmx-block></pmx-function>

<pmx-function pmx-line="67" pmx-col="1" name="verify" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><pmx-id pmx-line="67" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">verify</pmx-id><pmx-id pmx-line="67" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">e</pmx-id><pmx-param pmx-line="67" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">e</pmx-param>
<pmx-block pmx-line="68" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">
<pmx-statement pmx-line="69" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><pmx-var pmx-line="69" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">var</pmx-var><pmx-id pmx-line="69" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">c</pmx-id><pmx-id pmx-line="69" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">document</pmx-id>.<pmx-id pmx-line="69" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">getElementById</pmx-id>(<pmx-lit-string pmx-line="69" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">circle</pmx-lit-string>)</pmx-statement>
<pmx-statement pmx-line="70" pmx-col="1" keyword="if" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><pmx-expr pmx-line="70" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><pmx-id pmx-line="70" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">e</pmx-id>.<pmx-id pmx-line="70" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">target</pmx-id><pmx-op-eqtype pmx-line="70" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">===</pmx-op-eqtype><pmx-id pmx-line="70" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">e</pmx-id>.<pmx-id pmx-line="70" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">currentTarget</pmx-id><pmx-op-and pmx-line="70" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">&amp;&amp;</pmx-op-and><pmx-comment pmx-line="70" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">// Assertion: the target and currentTarget are the same</pmx-comment>
<pmx-id pmx-line="71" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">e</pmx-id>.<pmx-id pmx-line="71" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">target</pmx-id><pmx-op-eqtype pmx-line="71" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">===</pmx-op-eqtype><pmx-id pmx-line="71" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">c</pmx-id></pmx-expr><pmx-statement pmx-line="71" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><pmx-comment pmx-line="71" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">// Assertion: the target is the 'circle' element since we dispatched the event directly to it</pmx-comment>
<pmx-block pmx-line="72" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">
<pmx-statement pmx-line="73" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><pmx-expr pmx-line="72" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><pmx-id pmx-line="73" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">c</pmx-id>.<pmx-id pmx-line="73" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">setAttribute</pmx-id>(<pmx-lit-string pmx-line="73" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">fill</pmx-lit-string><pmx-lit-string pmx-line="73" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">lime</pmx-lit-string>)</pmx-expr></pmx-statement>
</pmx-block></pmx-statement>
</pmx-statement></pmx-block></pmx-function>

<pmx-function pmx-line="77" pmx-col="1" name="dispatchMouseClick" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><pmx-id pmx-line="77" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">dispatchMouseClick</pmx-id><pmx-id pmx-line="77" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">target</pmx-id><pmx-param pmx-line="77" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">target</pmx-param>
<pmx-block pmx-line="78" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">
<pmx-statement pmx-line="79" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><pmx-var pmx-line="79" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">var</pmx-var><pmx-id pmx-line="79" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">mouseevent</pmx-id><pmx-id pmx-line="79" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">document</pmx-id>.<pmx-id pmx-line="79" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">createEvent</pmx-id>(<pmx-lit-string pmx-line="79" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">MouseEvents</pmx-lit-string>)</pmx-statement>
<pmx-statement pmx-line="94" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><pmx-expr pmx-line="79" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><pmx-id pmx-line="80" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">mouseevent</pmx-id>.<pmx-id pmx-line="80" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">initMouseEvent</pmx-id>(<pmx-lit-string pmx-line="80" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">click</pmx-lit-string>
<pmx-lit-bool pmx-line="81" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">true</pmx-lit-bool><pmx-comment pmx-line="81" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">// canbubble</pmx-comment>
<pmx-lit-bool pmx-line="82" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">true</pmx-lit-bool><pmx-comment pmx-line="82" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">// cancellable</pmx-comment>
<pmx-id pmx-line="83" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">document</pmx-id>.<pmx-id pmx-line="83" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">defaultView</pmx-id><pmx-comment pmx-line="83" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">// the AbstractView</pmx-comment>
<pmx-lit-int pmx-line="84" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">1</pmx-lit-int><pmx-comment pmx-line="84" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">// mouseclick count</pmx-comment>
<pmx-lit-int pmx-line="85" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">0</pmx-lit-int><pmx-comment pmx-line="85" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">// screen x coordinate</pmx-comment>
<pmx-lit-int pmx-line="86" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">0</pmx-lit-int><pmx-comment pmx-line="86" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">// screen y coordinate </pmx-comment>
<pmx-lit-int pmx-line="87" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">0</pmx-lit-int><pmx-comment pmx-line="87" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">// client x coordinate</pmx-comment>
<pmx-lit-int pmx-line="88" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">0</pmx-lit-int><pmx-comment pmx-line="88" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">// client y coordinate</pmx-comment>
<pmx-lit-bool pmx-line="89" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">false</pmx-lit-bool><pmx-comment pmx-line="89" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">// ctrlKey</pmx-comment>
<pmx-lit-bool pmx-line="90" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">false</pmx-lit-bool><pmx-comment pmx-line="90" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">// altKey</pmx-comment>
<pmx-lit-bool pmx-line="91" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">false</pmx-lit-bool><pmx-comment pmx-line="91" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">// shiftKey</pmx-comment>
<pmx-lit-bool pmx-line="92" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">false</pmx-lit-bool><pmx-comment pmx-line="92" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">// metaKey</pmx-comment>
<pmx-lit-int pmx-line="93" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">0</pmx-lit-int><pmx-comment pmx-line="93" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">// mousebutton</pmx-comment>
<pmx-lit-null pmx-line="94" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">null</pmx-lit-null>)</pmx-expr></pmx-statement><pmx-comment pmx-line="94" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">// related target</pmx-comment>
<pmx-statement pmx-line="95" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><pmx-expr pmx-line="94" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><pmx-id pmx-line="95" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">target</pmx-id>.<pmx-id pmx-line="95" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">dispatchEvent</pmx-id>(<pmx-id pmx-line="95" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">mouseevent</pmx-id>)</pmx-expr></pmx-statement>
</pmx-block></pmx-function>

<pmx-function pmx-line="98" pmx-col="1" name="runTest" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><pmx-id pmx-line="98" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">runTest</pmx-id>
<pmx-block pmx-line="99" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">
<pmx-comment pmx-line="100" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">// test bubbling click</pmx-comment>
<pmx-statement pmx-line="99" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><pmx-block pmx-line="101" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">
<pmx-statement pmx-line="102" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><pmx-var pmx-line="102" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">var</pmx-var><pmx-id pmx-line="102" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">instanceCircle</pmx-id><pmx-id pmx-line="102" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">document</pmx-id>.<pmx-id pmx-line="102" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">getElementById</pmx-id>(<pmx-lit-string pmx-line="102" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">use3</pmx-lit-string>).<pmx-id pmx-line="102" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">instanceRoot</pmx-id>.<pmx-id pmx-line="102" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">firstChild</pmx-id>.<pmx-id pmx-line="102" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">nextSibling</pmx-id></pmx-statement>
<pmx-statement pmx-line="103" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><pmx-expr pmx-line="102" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><pmx-id pmx-line="103" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">dispatchMouseClick</pmx-id>(<pmx-id pmx-line="103" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">instanceCircle</pmx-id>)</pmx-expr></pmx-statement>
</pmx-block><pmx-block pmx-line="104" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"/>

<pmx-comment pmx-line="106" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">// test nested use with bubbling click</pmx-comment>
</pmx-statement><pmx-statement pmx-line="104" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><pmx-block pmx-line="107" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">
<pmx-statement pmx-line="108" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><pmx-var pmx-line="108" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">var</pmx-var><pmx-id pmx-line="108" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">nestedUseInstance</pmx-id><pmx-id pmx-line="108" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">document</pmx-id>.<pmx-id pmx-line="108" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">getElementById</pmx-id>(<pmx-lit-string pmx-line="108" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">use3</pmx-lit-string>).<pmx-id pmx-line="108" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">instanceRoot</pmx-id>.<pmx-id pmx-line="108" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">childNodes</pmx-id>.<pmx-id pmx-line="108" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">item</pmx-id>(<pmx-lit-int pmx-line="108" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">3</pmx-lit-int>)</pmx-statement>
<pmx-statement pmx-line="109" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><pmx-var pmx-line="109" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">var</pmx-var><pmx-id pmx-line="109" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">instanceNestedCircle</pmx-id><pmx-id pmx-line="109" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">nestedUseInstance</pmx-id>.<pmx-id pmx-line="109" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">childNodes</pmx-id>.<pmx-id pmx-line="109" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">item</pmx-id>(<pmx-lit-int pmx-line="109" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">0</pmx-lit-int>)</pmx-statement>
<pmx-statement pmx-line="110" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><pmx-expr pmx-line="109" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><pmx-id pmx-line="110" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">dispatchMouseClick</pmx-id>(<pmx-id pmx-line="110" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">instanceNestedCircle</pmx-id>)</pmx-expr></pmx-statement>
</pmx-block><pmx-block pmx-line="111" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"/>
</pmx-statement></pmx-block></pmx-function>
</pmx-script>        
        function verifyDefs3(e)
        {
          var instance = document.getElementById("use3").instanceRoot;
          var dc3instance = instance.firstChild.nextSibling;
          if (e.target != e.currentTarget &amp;&amp;         // Assertion: the target and currentTarget are different since the event bubbled
              e.target === dc3instance &amp;&amp;            // Assertion: the event was dispatched to the correct EventTarget
              e.currentTarget === instance)          // Assertion: the event bubbled up to the SVGElementInstance corresponding to the element with id="defsg1"
          {
            dc3instance.correspondingElement.setAttribute("fill", "lime");
          }
        }
        
        function verifyDefs4(e)
        {
          var useElement = document.getElementById("use3");
          var nestedUseInstance = useElement.instanceRoot.childNodes.item(3);
          var instanceNestedCircle = nestedUseInstance.childNodes.item(0);
          if (e.target != e.currentTarget &amp;&amp;                               // Assertion: the target and currentTarget are different since the event bubbled
              e.target === instanceNestedCircle &amp;&amp;                         // Assertion: the event was dispatched to the correct EventTarget
              e.currentTarget === nestedUseInstance &amp;&amp;                     // Assertion: the event bubbled up to the SVGElementInstance corresponding to the element with id="defsuse1"
              instanceNestedCircle.parentNode === nestedUseInstance &amp;&amp;     // Assertion: the parentNode is the SVGElementInstance of the 'use' that referenced the circle
              instanceNestedCircle.correspondingUseElement === useElement) // Assertion: When 'use' elements are nested then the correspondingUseElement is the outermost 'use'
          {
            document.getElementById("defscircle4").setAttribute("fill", "lime");
          }
        }
        
        function verify(e)
        {
          var c = document.getElementById("circle");
          if (e.target === e.currentTarget &amp;&amp;   // Assertion: the target and currentTarget are the same
              e.target === c)                   // Assertion: the target is the 'circle' element since we dispatched the event directly to it
          {
            c.setAttribute("fill", "lime");
          }
        }
        
        function dispatchMouseClick(target)
        {
           var mouseevent = document.createEvent("MouseEvents");
           mouseevent.initMouseEvent("click", 
                                      true,                 // canbubble
                                      true,                 // cancellable
                                      document.defaultView, // the AbstractView
                                      1,                    // mouseclick count
                                      0,                    // screen x coordinate
                                      0,                    // screen y coordinate 
                                      0,                    // client x coordinate
                                      0,                    // client y coordinate
                                      false,                // ctrlKey
                                      false,                // altKey
                                      false,                // shiftKey
                                      false,                // metaKey
                                      0,                    // mousebutton
                                      null);                // related target
           target.dispatchEvent(mouseevent);
        }
        
        function runTest()
        {
          // test bubbling click
          try {
            var instanceCircle = document.getElementById("use3").instanceRoot.firstChild.nextSibling;
            dispatchMouseClick(instanceCircle);
          } catch(e) {}
          
          // test nested use with bubbling click
          try {
            var nestedUseInstance = document.getElementById("use3").instanceRoot.childNodes.item(3);
            var instanceNestedCircle = nestedUseInstance.childNodes.item(0);
            dispatchMouseClick(instanceNestedCircle);
          } catch(e) {}
        }
      </script>
    </defs>
    
    <use pmx-line="116" pmx-col="5" id="use3" href="#defsg1" pmx-text-type="0" pmx-endtag-line="116" pmx-endtag-col="5"/>
  </g>
  <g pmx-line="118" pmx-col="3" font-family="SVGFreeSansASCII,sans-serif" font-size="32" pmx-text-type="0" pmx-endtag-line="121" pmx-endtag-col="3">
    <text pmx-line="119" pmx-col="5" id="revision" x="10" y="340" stroke="none" fill="black" pmx-text-type="0" pmx-endtag-line="120" pmx-endtag-col="36">$Revision: 1.2 $</text>
  </g>
  <rect pmx-line="122" pmx-col="3" id="test-frame" x="1" y="1" width="478" height="358" fill="none" stroke="#000" pmx-text-type="0" pmx-endtag-line="122" pmx-endtag-col="3"/>
  <pmx-comment pmx-line="123" pmx-col="62" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"> comment out this watermark once the test is approved </pmx-comment>
  <g pmx-line="124" pmx-col="3" id="draft-watermark" pmx-text-type="0" pmx-endtag-line="128" pmx-endtag-col="3">
    <rect pmx-line="125" pmx-col="5" x="1" y="1" width="478" height="20" fill="red" stroke="black" stroke-width="1" pmx-text-type="0" pmx-endtag-line="125" pmx-endtag-col="5"/>
    <text pmx-line="126" pmx-col="5" font-family="SVGFreeSansASCII,sans-serif" font-weight="bold" font-size="20" x="240" text-anchor="middle" y="18" stroke-width="0.5" stroke="black" fill="white" pmx-text-type="0" pmx-endtag-line="127" pmx-endtag-col="87">DRAFT</text>
  </g>
</svg>


</body></html><pmx-http-headers pmx-line="1" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"/><pmx-linksin pmx-line="1" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"/><pmx-linksout pmx-line="1" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"/><issues pmx-line="0" pmx-col="0" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><issue pmx-line="4" pmx-col="2" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><rule pmx-line="0" pmx-col="0" class="ACC" priority="1" certainty="100" ruleid="AccWcag1-13.2.3" state="0" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><categoryref pmx-line="0" pmx-col="0" refurl="http://www.w3.org/TR/WCAG10/#gl-facilitate-navigation" refname="WCAG 1.0" refsect="AA 13.2" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">AccWcag1</categoryref><categoryref pmx-line="0" pmx-col="0" refurl="http://www.w3.org/TR/WCAG20-TECHS/F25.html" refname="WCAG 2.0" refsect="A F25" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">AccWcag2</categoryref><categoryref pmx-line="0" pmx-col="0" refurl="" refname="Matterhorn 1.02" refsect="06-004" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">AccMatterhorn</categoryref></rule></issue><issue pmx-line="33" pmx-col="7" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><rule pmx-line="0" pmx-col="0" class="ACC" priority="1" certainty="100" ruleid="AccWcag1-9.3.5" state="0" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><categoryref pmx-line="0" pmx-col="0" refurl="http://www.w3.org/TR/WCAG10/#gl-device-independence" refname="WCAG 1.0" refsect="AA 9.3" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">AccWcag1</categoryref><categoryref pmx-line="0" pmx-col="0" refurl="http://www.access-board.gov/guidelines-and-standards/communications-and-it/about-the-section-508-standards/guide-to-the-section-508-standards/web-based-intranet-and-internet-information-and-applications-1194-22" refname="Section 508" refsect="1194.22 (l)" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">AccSection508</categoryref><categoryref pmx-line="0" pmx-col="0" refurl="http://www.w3.org/TR/WCAG20-TECHS/F54.html" refname="WCAG 2.0" refsect="A F54" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">AccWcag2</categoryref></rule></issue><issue pmx-line="9" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><rule pmx-line="0" pmx-col="0" class="BUG" priority="1" certainty="100" ruleid="BugHtmlSvg" state="0" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><categoryref pmx-line="0" pmx-col="0" refurl="http://msdn.microsoft.com/en-us/ie/hh410107#_Scaling_Vector_Graphics" refname="Internet Explorer" refsect="&amp;#8804; 8" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">BugMicrosoft</categoryref><categoryref pmx-line="0" pmx-col="0" refurl="http://en.wikipedia.org/wiki/Scalable_Vector_Graphics" refname="Android" refsect="&amp;#8804; 2" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">BugAndroidMobile</categoryref><categoryref pmx-line="0" pmx-col="0" refurl="" refname="" refsect="" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">BugTechHtml</categoryref></rule></issue><issue pmx-line="83" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><rule pmx-line="0" pmx-col="0" class="BUG" priority="1" certainty="100" ruleid="BugIeDefaultView" state="0" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><categoryref pmx-line="0" pmx-col="0" refurl="http://www.quirksmode.org/dom/w3c_html.html" refname="Internet Explorer" refsect="&amp;#8804; 8" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">BugMicrosoft</categoryref><categoryref pmx-line="0" pmx-col="0" refurl="" refname="" refsect="" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">BugTechScript</categoryref></rule></issue><issue pmx-line="1" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><rule pmx-line="0" pmx-col="0" class="SEO" priority="3" certainty="100" ruleid="SeoMetaDescription" state="0" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><categoryref pmx-line="0" pmx-col="0" refurl="https://help.yahoo.com/kb/search/search-content-quality-guidelines-sln2245.html" refname="Yahoo" refsect="" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">SeoYahoo</categoryref><categoryref pmx-line="0" pmx-col="0" refurl="https://support.google.com/webmasters/bin/answer.py?answer=35624#1" refname="Google" refsect="" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">SeoGoogle</categoryref><categoryref pmx-line="0" pmx-col="0" refurl="http://www.bing.com/webmaster/help/webmaster-guidelines-30fba23a" refname="Bing" refsect="" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">SeoMsn</categoryref></rule></issue><issue pmx-line="4" pmx-col="2" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><rule pmx-line="0" pmx-col="0" class="SEO" priority="1" certainty="100" ruleid="SeoMultipleTitleTags" state="0" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><categoryref pmx-line="0" pmx-col="0" refurl="" refname="Best Practice" refsect="" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">SeoOther</categoryref></rule></issue><issue pmx-line="1" pmx-col="1" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><rule pmx-line="0" pmx-col="0" class="USE" priority="2" certainty="80" ruleid="UseGov17.4" state="0" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><categoryref pmx-line="0" pmx-col="0" refurl="http://guidelines.usability.gov/guidelines/189" refname="Usability.gov" refsect="17:4" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">UseUsGov</categoryref></rule></issue><issue pmx-line="39" pmx-col="7" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><rule pmx-line="0" pmx-col="0" class="W3C" priority="1" certainty="100" ruleid="W3cHtml5Error-RnvErAmis-script" state="0" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0"><categoryref pmx-line="0" pmx-col="0" refurl="http://www.w3.org/TR/html5/" refname="HTML5" refsect="" pmx-text-type="2" pmx-endtag-line="0" pmx-endtag-col="0">W3cHtml5</categoryref></rule></issue></issues></doc>
